"use strict";angular.module("handsometoadApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ngProgress","ngDraggable"]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/canvas",{templateUrl:"views/canvas.html",controller:"CanvasCtrl"}).when("/customise",{templateUrl:"views/customise.html",controller:"CustomiseCtrl"}).when("/create/:productname/:id",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/address",{templateUrl:"views/address.html",controller:"AddressCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/sell",{templateUrl:"views/sell.html",controller:"SellCtrl"}).when("/sell/:productname/:id",{templateUrl:"views/sell.html",controller:"SellCtrl"}).when("/contact",{templateUrl:"views/contact.html",controller:"ContactCtrl"}).otherwise({redirectTo:"/"}),b.html5Mode(!0)}]),angular.module("handsometoadApp").controller("MainCtrl",["$location","$scope","ProductsService","TemplatesService","OrderService","$route","ngProgress","ConfigService",function(a,b,c,d,e,f,g,h){h.init.progress(),b.$on("$routeChangeSuccess",function(){e.order.productid||e.order.chooseProduct(f.current.params.id)}),b.showmodal=a.host().match(/local/)?!0:!1,c.then(function(a){b.products=a.data,g.complete()}),d.then(function(a){b.templates=a.data,g.complete()}),b.urlPrefix="create",b.aesthetic=h.ui}]),angular.module("handsometoadApp").controller("AboutCtrl",["$scope","$http",function(a,b){function c(a){return{status:a,statusText:"Internal Server Error",description:"No details available"}}a.awesomeThings=[],a.loading=!0,b({method:"GET",url:"/api/features"}).success(function(d){a.loading=!1,a.awesomeThings=d,a.awesomeThings.forEach(function(a){a.loading=!0,b({method:"GET",url:a.href}).success(function(b){a.loading=!1,a.description=b.description}).error(function(b,d){a.loading=!1,a.error=b&&b.description?b:c(d)})})}).error(function(b,d){a.loading=!1,a.error=b&&b.description?b:c(d)})}]),angular.module("handsometoadApp").controller("SellCtrl",["$scope","$location","ProductsService","TemplatesService","ngProgress","ConfigService",function(a,b,c,d,e,f){f.init.progress(),a.showmodal=b.host().match(/local/)?!0:!1,c.then(function(b){a.products=b.data,e.complete()}),d.then(function(b){a.templates=b.data,e.complete()}),a.urlPrefix="sell",a.aesthetic=f.ui}]),angular.module("handsometoadApp").controller("ContactCtrl",function(){}),angular.module("handsometoadApp").controller("CanvasCtrl",["$scope","OrderService",function(a,b){a.title=b.order.templatetitle}]),angular.module("handsometoadApp").controller("AddressCtrl",function(){}),angular.module("handsometoadApp").controller("NavCtrl",["$scope","OrderService","$location","ConfigService",function(a,b,c,d){a.home=function(a){b.order.productid=!1,d.ui.hideproduct=!1,d.ui.hidetemplate=!1,c.path(a)}}]),angular.module("handsometoadApp").controller("CustomiseCtrl",function(){}),angular.module("handsometoadApp").factory("ProductsService",["$http",function(a){return a.get("/api/products",{cache:!0})}]),angular.module("handsometoadApp").factory("TemplatesService",["$http",function(a){return this.templates=[{parentid:1,name:"custom cards 1",description:"danger",count:3},{parentid:1,name:"custom cards 2",description:"danger",count:3},{parentid:1,name:"custom cards 3",description:"danger",count:3},{parentid:1,name:"custom cards 4",description:"danger",count:3},{parentid:1,name:"custom cards 5",description:"danger",count:3},{parentid:1,name:"custom cards 6",description:"danger",count:3},{parentid:1,name:"custom cards 7",description:"danger",count:3},{parentid:1,name:"custom cards 8",description:"danger",count:3},{parentid:1,name:"custom cards 9",description:"danger",count:3},{parentid:1,name:"custom cards 10",description:"danger",count:3},{parentid:2,name:"custom calendars 1",description:"success",count:4},{parentid:2,name:"custom calendars 2",description:"success",count:4},{parentid:3,name:"custom brochures",description:"warning",count:1},{parentid:4,name:"custom t-shirts",description:"info",count:2},{parentid:4,name:"custom t-shirts1",description:"info",count:2},{parentid:4,name:"custom t-shirts2",description:"info",count:2},{parentid:4,name:"custom t-shirts3",description:"info",count:2},{parentid:5,name:"custom wall-paper",description:"info",count:4},{parentid:5,name:"custom wall-paper1",description:"info",count:4},{parentid:5,name:"custom wall-paper2",description:"info",count:4},{parentid:5,name:"custom wall-paper3",description:"info",count:4},{parentid:5,name:"custom wall-paper4",description:"info",count:4},{parentid:5,name:"custom wall-paper5",description:"info",count:4},{parentid:6,name:"custom posters",description:"info",count:4}],a.get("/api/templates",{cache:!0})}]),angular.module("handsometoadApp").factory("OrderService",function(){var a={};return a.order={productid:!1,producttitle:"product title",templateid:!1,templatetitle:"template title",templatedescription:null,address:"danger"},a.order.chooseProduct=function(b,c){a.order.productid=b,a.order.producttitle=c},a.order.settings={hideproduct:!1,hidetemplate:!1},a}),angular.module("handsometoadApp").factory("ConfigService",["ngProgress",function(a){var b={};return b.progress={color:"#a0b406",height:"3px"},b.ui={hideproduct:!1,hidetemplate:!1},b.init={progress:function(){a.color(b.progress.color),a.height(b.progress.height),a.start()}},b}]),angular.module("handsometoadApp").directive("productsDirective",["OrderService","ConfigService",function(a,b){return{templateUrl:"views/product.html",link:function(c){c.chooseProduct=function(c,d){a.order.chooseProduct(c,d),b.ui.hideproduct=!0,b.ui.hidetemplate=!1}}}}]),angular.module("handsometoadApp").directive("sellProductsDirective",["OrderService","ConfigService",function(a,b){return{templateUrl:"views/sell.product.html",link:function(c){c.chooseSellProduct=function(c,d){a.order.chooseProduct(c,d),b.ui.hideproduct=!0,b.ui.hidetemplate=!1,console.log("chooseSellProduct")}}}}]),angular.module("handsometoadApp").directive("sellTemplatesDirective",["OrderService",function(a){return{templateUrl:"views/sell.ptemplate.html",link:function(b){b.productid=a.order.productid,b.checkFilter=function(){return b.productid?{parentid:b.productid}:null},b.chooseSellTemplate=function(b,c){a.order.settings.hideproduct=!0,a.order.settings.hidetemplate=!1,a.order.templatetitle=c,console.log("hideproduct set to true in products directive")}}}}]),angular.module("handsometoadApp").directive("sellNewProductDirective",function(){return{templateUrl:"views/sell.new.product.html",link:function(){}}}),angular.module("handsometoadApp").directive("templatesDirective",["OrderService",function(a){return{templateUrl:"views/ptemplate.html",link:function(b){b.productid=a.order.productid,b.checkFilter=function(){return b.productid?{parentid:b.productid}:null},b.chooseTemplate=function(b,c){a.order.tempatetitle=c.charAt(0).toUpperCase()+c.substr(1).toLowerCase()}}}}]),angular.module("handsometoadApp").directive("navsDirective",["OrderService",function(a){return{templateUrl:"views/nav.html",controller:"NavCtrl",link:function(b){b.products={title:a.order.producttitle,template:a.order.templatetitle}}}}]);